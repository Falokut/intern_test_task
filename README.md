# EWallet

Приложение EWallet реализует систему обработки транзакций платёжной системы. Приложение реализовано в виде HTTP сервера, реализующее REST API. Сервер реализует 4 метода и их логику, а конкретно:
* Создание кошелька (метод: POST endpoint: /api/v1/wallet)
* Перевод средств с одного кошелька на другой (метод: POST endpoint: /api/v1/wallet/{walletId}/send)
* Получение историй входящих и исходящих транзакций (метод: GET  endpoint: /api/v1/wallet/{walletId}/history)
* Получение текущего состояния кошелька (метод: GET  endpoint: /api/v1/wallet/{walletId})

** в корне проекта лежит тестовый .env файл, для простоты конфигурации в бд нету роли для сервиса(сервис логинится под админкой)
# Конфигурация:
1. При необходимости модифицируйте .env файл
Example env:
```env
DB_USERNAME=postgres
DB_PASSWORD=postgres
```
2. Создайте конфигурационный файл или измените config.yml в docker\containers-configs. Если вы создали новый конфигурационный файл и при этом поменяли путь с docker\containers-configs, измените путь в docker-compose volume секции (your-path/config.yml:configs/)

## Параметры конфигурации
Если поле "supported values" пустое, то поддерживаются значения любого типа.

| YML Название  |  YML Раздел | ENV Название| Тип параметра | Описание | Поддерживаемые значения |
|-|-|-|-|-|-|
| log_level   |      | LOG_LEVEL  |   string   |      уровень логирования        | panic, fatal, error, warning, warn, info, debug, trace|
| host   |  listen    | HOST  |   string   |  IP-адрес или хост для прослушивания   |  |
| port   |  listen    | PORT  |   string   |  порт для прослушивания   | Строка не должна содержать разделителей, только номер порта|
|db_config|||вложенная конфигурация YML  [конфигурация базы данных](#конфигурация-базы-данных) || конфигурация для подключения к базе данных | |

### Конфигурация базы данных
| YML название  |  ENV Название | Тип параметра | Описание | Поддерживаемые значения |
|-|-|-|-|-|
|host|DB_HOST|string|хост или IP-адрес базы данных| |
|port|DB_PORT|string|порт базы данных| любой допустимый порт, не занятый другими сервисами. Строка не должна содержать разделителей, только номер порта|
|username|DB_USERNAME|string|имя пользователя (роль) в базе данных||
|password|DB_PASSWORD|string|пароль для пользователя в базе данных||
|db_name|DB_NAME|string|название базы данных (экземпляра базы данных)||
|ssl_mode|DB_SSL_MODE|string|включение или отключение режима SSL для подключения к базе данных|disabled или enabled|
